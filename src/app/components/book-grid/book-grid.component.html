<div class="book-grid">
  <div class="book" *ngFor="let element of booksWithSuggestions; let i = index">

    <div class="book-main">

      <img class="book-cover" [src]="element.book.coverImageUrl" alt="{{ element.book.title }}">
      <div class="book-info">
        <div class="book-title">{{ element.book.title }}</div>
        <div class="book-author">by {{ element.book.author }}</div>
        <div class="total-suggestions">
          <span *ngIf="element.suggestions.length === 1">1 alternative</span>
          <span *ngIf="element.suggestions.length > 1">{{ element.suggestions.length }} alternatives</span>
        </div>
      </div>
    </div>

    <div class="suggested-books">
      <div class="suggested-book" *ngFor="let suggestion of topSuggestions[i]">
        <div class="suggested-book-cover" (click)="openSuggestedBookModal(suggestion)">
          <img [src]="suggestion.suggestedBook.coverImageUrl" alt="{{ suggestion.suggestedBook.title }}">
        </div>
        <div class="suggested-book-info">
          <div class="book-title">{{ suggestion.suggestedBook.title }}</div>
          <div class="book-author">by {{ suggestion.suggestedBook.author }}</div>
          <div class="suggested-by">Suggested by {{ suggestion.suggestedByUser.username }}</div>
          <div class="reason">"{{ suggestion.reason }}"</div>
          <div class="upvotes">{{ suggestion.upvoteCount }}
            <span *ngIf="suggestion.upvoteCount === 1">upvote</span>
            <span *ngIf="suggestion.upvoteCount !== 1">upvotes</span>
          </div>
          <div class="comments">{{ suggestion.comments.length }} comments</div>
        </div>
      </div>
    </div>

  </div>
</div>
